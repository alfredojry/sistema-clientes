(this["webpackJsonpreact-app"]=this["webpackJsonpreact-app"]||[]).push([[0],{25:function(e,t,r){},26:function(e,t,r){},47:function(e,t,r){"use strict";r.r(t);var n=r(1),c=r.n(n),o=r(20),s=r.n(o),a=(r(25),r(4)),i=(r(26),r(3)),u=r.n(i),d=r(7),l=r(8),j=r.n(l),m=function(){var e=Object(d.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("/api/clientes");case 3:return t=e.sent,e.abrupt("return",t);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("".concat(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}(),b=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.get("/api/clientes/".concat(t));case 3:return r=e.sent,e.abrupt("return",r);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("".concat(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=Object(d.a)(u.a.mark((function e(t){var r,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={nome:t.nome,sobrenome:t.sobrenome,idade:t.idade},e.next=4,j.a.post("/api/clientes",r);case 4:return n=e.sent,e.abrupt("return",n);case 8:throw e.prev=8,e.t0=e.catch(0),new Error("".concat(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=Object(d.a)(u.a.mark((function e(t,r){var n,c;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n={nome:r.nome,sobrenome:r.sobrenome,idade:r.idade},e.next=4,j.a.put("/api/clientes/".concat(t),n);case 4:return c=e.sent,e.abrupt("return",c);case 8:throw e.prev=8,e.t0=e.catch(0),new Error("".concat(e.t0));case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t,r){return e.apply(this,arguments)}}(),f=function(){var e=Object(d.a)(u.a.mark((function e(t){var r;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,j.a.delete("/api/clientes/".concat(t));case 3:return r=e.sent,e.abrupt("return",r);case 7:throw e.prev=7,e.t0=e.catch(0),new Error("".concat(e.t0));case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t){return e.apply(this,arguments)}}(),O=r(0),x=function(e){var t=e.customer,r=(e.editCustomer,e.deleteCustomer),n=e.showCustomerById,c=e.showEdit,o=t.id,s=t.nome,a=t.sobrenome,i=t.idade,u=t.data_criado,d=t.data_atualizado,l=new Date(u),j=new Date(d);return t?Object(O.jsxs)("div",{className:"Card",children:[Object(O.jsxs)("h1",{children:[o,") ",s," ",a]}),Object(O.jsxs)("h2",{children:["Idade: ",i]}),Object(O.jsxs)("p",{children:["Criado: ",l.toLocaleString()]}),Object(O.jsxs)("p",{children:["Atualizado: ",j.toLocaleString()]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("button",{onClick:n,id:String(o),children:"Ver"}),Object(O.jsx)("button",{onClick:c,id:String(o),children:"Atualizar"}),Object(O.jsx)("button",{onClick:function(){return r(String(o))},id:String(o),children:"Apagar"})]})]}):Object(O.jsx)("div",{children:"Carregando..."})},v=function(e){var t=e.customers,r=e.switchComponent,n=e.showCustomerById,c=e.editCustomer,o=e.showEdit,s=e.deleteCustomer;return Object(O.jsxs)("div",{className:"CustomersList",children:[Object(O.jsx)("button",{onClick:function(){return r("add-customer")},children:"Cadastrar cliente"}),t.map((function(e){return Object(O.jsx)(x,{customer:e,showCustomerById:n,editCustomer:c,showEdit:o,deleteCustomer:s},Number(e.id))}))]})},C=r(5),w=r(6),g=function(e){var t=e.saveCustomer,r=e.switchComponent,c=Object(n.useState)(),o=Object(a.a)(c,2),s=o[0],i=o[1],u=function(e){i(Object(w.a)(Object(w.a)({},s),{},Object(C.a)({},e.currentTarget.id,e.currentTarget.value)))};return Object(O.jsxs)("div",{className:"AddCustomer",children:[Object(O.jsx)("button",{onClick:function(){return r("customers-list")},children:"Voltar"}),Object(O.jsxs)("form",{className:"Form",onSubmit:function(e){return t(e,s)},children:[Object(O.jsxs)("label",{htmlFor:"nome",children:["Nome",Object(O.jsx)("input",{onChange:u,type:"text",id:"nome"})]}),Object(O.jsxs)("label",{htmlFor:"sobrenome",children:["Sobrenome",Object(O.jsx)("input",{onChange:u,type:"text",id:"sobrenome"})]}),Object(O.jsxs)("label",{htmlFor:"idade",children:["Idade",Object(O.jsx)("input",{onChange:u,type:"number",id:"idade"})]}),Object(O.jsx)("button",{disabled:void 0===s,children:"Cadastrar"})]})]})},S=function(e){var t=e.customer,r=(e.editCustomer,e.deleteCustomer),n=e.switchComponent,c=e.showEdit,o=t.id,s=t.nome,a=t.sobrenome,i=t.idade,u=t.data_criado,d=t.data_atualizado,l=new Date(u),j=new Date(d);return t?Object(O.jsxs)("div",{className:"Card",children:[Object(O.jsxs)("h1",{children:[o,") ",s," ",a]}),Object(O.jsxs)("h2",{children:["Idade: ",i]}),Object(O.jsxs)("p",{children:["Criado: ",l.toLocaleString()]}),Object(O.jsxs)("p",{children:["Atualizado: ",j.toLocaleString()]}),Object(O.jsxs)("div",{children:[Object(O.jsx)("button",{onClick:function(){return n("customers-list")},children:"Voltar"}),Object(O.jsx)("button",{onClick:c,id:String(o),children:"Atualizar"}),Object(O.jsx)("button",{onClick:function(){return r(String(o))},id:String(o),children:"Apagar"})]})]}):Object(O.jsx)("div",{children:"Carregando..."})},E=function(e){var t=e.idCustomer,r=e.customer,c=e.editCustomer,o=e.switchComponent,s=Object(n.useState)(r),i=Object(a.a)(s,2),u=i[0],d=i[1],l=function(e){d(Object(w.a)(Object(w.a)({},u),{},Object(C.a)({},e.currentTarget.id,e.currentTarget.value)))};return Object(O.jsxs)("div",{className:"AddCustomer",children:[Object(O.jsx)("button",{onClick:function(){return o("customers-list")},children:"Voltar"}),Object(O.jsxs)("form",{className:"Form",onSubmit:function(e){return c(t,u,e)},children:[Object(O.jsxs)("label",{htmlFor:"nome",children:["Nome",Object(O.jsx)("input",{onChange:l,type:"text",id:"nome",value:u.nome})]}),Object(O.jsxs)("label",{htmlFor:"sobrenome",children:["Sobrenome",Object(O.jsx)("input",{onChange:l,type:"text",id:"sobrenome",value:u.sobrenome})]}),Object(O.jsxs)("label",{htmlFor:"idade",children:["Idade",Object(O.jsx)("input",{onChange:l,type:"number",id:"idade",value:u.idade})]}),Object(O.jsx)("button",{disabled:void 0===u,children:"Editar"})]})]})};var k=function(){var e=Object(n.useState)([]),t=Object(a.a)(e,2),r=t[0],c=t[1],o=Object(n.useState)("customers-list"),s=Object(a.a)(o,2),i=s[0],u=s[1],d=Object(n.useState)({}),l=Object(a.a)(d,2),j=l[0],x=l[1],C=function(e){u(e),"customers-list"===e&&w()};Object(n.useEffect)((function(){w()}),[]);var w=function(){m().then((function(e){var t=e.data;return c(t)})).catch((function(e){return console.log(e)}))},k=function(e,t){b(e).then((function(e){var r=e.data;x(r),u(t)})).catch((function(e){return console.log(e)}))},y=function(e){var t=Number(e.currentTarget.id);k(t,"edit-customer")},N=function(e,t,r){r.preventDefault(),p(e,t).then((function(t){if(204!==t.status)throw new Error("Error! Customer not updated");k(Number(e),"customer")})).catch((function(e){return console.log(e)}))},A=function(e){f(e).then((function(e){if(204!==e.status)throw new Error("Error! Customer not deleted");u("customers-list"),w()})).catch((function(e){return console.log(e)}))};return Object(O.jsxs)("div",{className:"App",children:["customers-list"===i&&Object(O.jsx)(v,{customers:r,switchComponent:C,showCustomerById:function(e){var t=Number(e.currentTarget.id);k(t,"customer")},editCustomer:N,showEdit:y,deleteCustomer:A}),"add-customer"===i&&Object(O.jsx)(g,{saveCustomer:function(e,t){e.preventDefault(),h(t).then((function(e){var t=e.status,r=e.data;if(200!==t)throw new Error("Error! Customer not saved");r.id&&k(r.id,"customer"),u("customer")})).catch((function(e){return console.log(e)}))},switchComponent:C}),"customer"===i&&Object(O.jsx)(S,{customer:j,switchComponent:C,editCustomer:N,showEdit:y,deleteCustomer:A}),"edit-customer"===i&&Object(O.jsx)(E,{switchComponent:C,editCustomer:N,idCustomer:j.id,customer:j})]})};s.a.render(Object(O.jsx)(c.a.StrictMode,{children:Object(O.jsx)(k,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.ad91e6fa.chunk.js.map